<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chapter 3: Interaction & Micro-Interactions</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&family=Roboto+Mono&display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.8.0/vanilla-tilt.min.js"></script>
</head>
<body>
    <div class="page-container">
        <nav class="side-nav">
            <div class="nav-logo">Effects Library</div>
            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>
                <li><a href="background-effects.html">1. Backgrounds</a></li>
                <li><a href="scroll-navigation.html">2. Scrolling</a></li>
                <li><a href="interactions.html" class="active">3. Interaction</a></li>
                <li><a href="text-animations.html">4. Typography</a></li>
                <li><a href="media.html">5. Imagery</a></li>
                <li><a href="layout.html">6. Layout</a></li>
                <li><a href="ui-themes.html">7. UI Styles</a></li>
                <li><a href="dataviz.html">8. Data Viz</a></li>
                <li><a href="loaders.html">9. Loaders</a></li>
            </ul>
        </nav>

        <main class="main-content">
            <h2 class="chapter-heading">Chapter 3: Interaction & Micro-Interactions</h2>

            <div class="effects-grid">

                <div class="effect-card">
                    <h3 class="effect-title">Button Ripple Effect</h3>
                    <p class="effect-description">A material design-inspired ripple effect on click, providing satisfying user feedback.</p>
                    <div class="demo-container">
                        <button class="demo-button" id="ripple-btn">Click Me</button>
                    </div>
                </div>

                <div class="effect-card">
                    <h3 class="effect-title">Magnetic Elements</h3>
                    <p class="effect-description">Elements that attract the cursor, creating a playful, engaging interaction.</p>
                    <div class="demo-container">
                        <button class="demo-button magnetic-btn">Magnetic</button>
                    </div>
                </div>

                <div class="effect-card">
                    <h3 class="effect-title">3D Tilt Effect</h3>
                    <p class="effect-description">A card that tilts in 3D space on hover, adding depth and a premium feel. Uses vanilla-tilt.js.</p>
                    <div class="demo-container">
                        <div class="tilt-card" data-tilt>3D Tilt</div>
                    </div>
                </div>

                <div class="effect-card">
                    <h3 class="effect-title">Cursor Trail</h3>
                    <p class="effect-description">A decorative trail follows the cursor, adding a dynamic and visual flourish to the page.</p>
                    <div class="demo-container cursor-trail-container">
                        <p>Move your mouse here.</p>
                    </div>
                </div>

                <div class="effect-card">
                    <h3 class="effect-title">Focus Animation</h3>
                    <p class="effect-description">An animated underline appears on form inputs when they gain focus, guiding the user's attention.</p>
                    <div class="demo-container">
                        <input type="text" class="focus-input" placeholder="Focus on me">
                    </div>
                </div>

                <div class="effect-card">
                    <h3 class="effect-title">Pop-Out Effect</h3>
                    <p class="effect-description">An element that scales up and gains a shadow on hover, making it feel interactive and important.</p>
                    <div class="demo-container">
                        <div class="pop-out-card">Hover Me</div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function () {
        const mainContent = document.querySelector('.main-content');

        // 1. Ripple Button
        const rippleBtn = document.getElementById('ripple-btn');
        if(rippleBtn) {
            rippleBtn.addEventListener('click', function (e) {
                const rect = e.target.getBoundingClientRect();
                const ripple = document.createElement('span');
                ripple.className = 'ripple';
                ripple.style.left = `${e.clientX - rect.left}px`;
                ripple.style.top = `${e.clientY - rect.top}px`;
                this.appendChild(ripple);
                setTimeout(() => ripple.remove(), 600);
            });
        }

        // 2. Magnetic Button
        const magneticBtn = document.querySelector('.magnetic-btn');
        if(magneticBtn) {
            magneticBtn.addEventListener('mousemove', function(e) {
                const rect = this.getBoundingClientRect();
                const x = (e.clientX - rect.left - rect.width / 2) * 0.3;
                const y = (e.clientY - rect.top - rect.height / 2) * 0.3;
                this.style.transform = `translate(${x}px, ${y}px)`;
            });
            magneticBtn.addEventListener('mouseleave', function() {
                this.style.transform = 'translate(0, 0)';
            });
        }

        // 3. 3D Tilt
        const tiltCard = document.querySelector('.tilt-card');
        if(tiltCard) {
            VanillaTilt.init(tiltCard, {
                max: 25,
                speed: 400,
                glare: true,
                'max-glare': 0.5
            });
        }

        // 4. Cursor Trail
        const trailContainer = document.querySelector('.cursor-trail-container');
        if(trailContainer) {
            trailContainer.addEventListener('mousemove', function(e) {
                const rect = trailContainer.getBoundingClientRect();
                const trail = document.createElement('div');
                trail.className = 'cursor-trail';
                // Position trail relative to the body, not the container
                trail.style.left = `${e.clientX}px`;
                trail.style.top = `${e.clientY}px`;
                document.body.appendChild(trail);
                setTimeout(() => {
                    trail.style.opacity = '0';
                    setTimeout(() => trail.remove(), 500);
                }, 500);
            });
        }
    });
    </script>
</body>
</html>
