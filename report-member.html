<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Report an Issue - BeSocia</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@600;700&family=Urbanist:wght@400;500&display=swap" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Urbanist', 'sans-serif'],
                        'display': ['Poppins', 'sans-serif'],
                    },
                    colors: {
                        'besocia-teal': '#00A6A6',
                        'besocia-offwhite': '#F7F7F7',
                        'besocia-slate': '#2D3A3A',
                        'besocia-coral': '#F47A60',
                        'besocia-yellow': '#FFC43D',
                    }
                }
            }
        }
    </script>
    <style>
        body { font-family: 'Urbanist', sans-serif; background-color: #F7F7F7; color: #2D3A3A; }
        h1, h2, h3, h4, h5, h6 { font-family: 'Poppins', sans-serif; }
        .form-input { background-color: #FFFFFF; border-color: #E0E0E0; color: #2D3A3A; }
        .form-input:focus { --tw-ring-color: #00A6A6; border-color: #00A6A6; }
    </style>
</head>
<body class="antialiased">

    <!-- Header -->
    <header class="bg-besocia-offwhite/80 backdrop-blur-md sticky top-0 z-50 border-b border-gray-200">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="./index.html" class="flex items-center gap-3">
                <img src="https://placehold.co/40x40/00A6A6/F7F7F7?text=B" alt="BeSocia Logo" class="h-10 w-10 rounded-full">
                <span class="text-2xl font-bold text-besocia-slate">BeSocia</span>
            </a>
            <div>
                <a href="YOUR_DISCORD_INVITE_LINK" target="_blank" class="bg-besocia-teal text-white font-bold px-5 py-2 rounded-lg shadow-lg hover:opacity-90 transform hover:-translate-y-0.5 transition-all">
                    Join Discord
                </a>
            </div>
        </nav>
    </header>

    <main class="py-16">
        <div class="container mx-auto px-6">
            <div class="max-w-2xl mx-auto">
                <div class="text-center mb-10">
                    <h1 class="text-4xl font-extrabold text-besocia-slate">Report a Community Issue</h1>
                    <p class="mt-3 text-lg text-gray-600">If you have witnessed or experienced a breach of our Code of Conduct, please use this form to submit a confidential report. Your safety is our highest priority, and all reports will be reviewed by our leadership team with the utmost seriousness.</p>
                </div>

                <form id="report-form" class="space-y-6 bg-white p-8 rounded-lg shadow-md border border-gray-200">
                    <div>
                        <label for="reporter-id" class="block text-sm font-medium text-gray-700">Your Discord ID (Required)</label>
                        <input type="text" id="reporter-id" required placeholder="e.g., YourName#1234" class="mt-1 form-input w-full rounded-md shadow-sm">
                    </div>
                    <div>
                        <label for="reported-user-id" class="block text-sm font-medium text-gray-700">Discord ID of Person You Are Reporting (if applicable)</label>
                        <input type="text" id="reported-user-id" placeholder="e.g., OtherPerson#5678" class="mt-1 form-input w-full rounded-md shadow-sm">
                    </div>
                    <div>
                        <label for="incident-location" class="block text-sm font-medium text-gray-700">Where did the incident occur?</label>
                        <select id="incident-location" required class="mt-1 form-input w-full rounded-md shadow-sm">
                            <option>At an in-person event</option>
                            <option>On the Discord Server</option>
                            <option>On another social media platform</option>
                            <option>In a private message (DM)</option>
                        </select>
                    </div>
                    <div>
                        <label for="incident-description" class="block text-sm font-medium text-gray-700">Please describe the incident in as much detail as possible.</label>
                        <textarea id="incident-description" rows="6" required placeholder="What happened? Who was involved? When did it occur?" class="mt-1 form-input w-full rounded-md shadow-sm"></textarea>
                    </div>
                    <div>
                        <button type="submit" id="submit-button" class="w-full flex justify-center py-3 px-4 border border-transparent rounded-md shadow-sm text-lg font-display font-bold text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500">
                            Submit Confidential Report
                        </button>
                    </div>
                </form>
                <div id="form-message" class="mt-4 text-center"></div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-white text-center py-8 mt-16">
        <p class="text-gray-500">&copy; 2025 BeSocia. All rights reserved.</p>
    </footer>

    <script>
        // NOTE: This form requires a new backend script to handle submissions.
        const form = document.getElementById('report-form');
        const submitButton = document.getElementById('submit-button');
        const formMessage = document.getElementById('form-message');
        const WEB_APP_URL = 'YOUR_NEW_WEB_APP_URL_HERE'; // This will be a new URL

        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            submitButton.disabled = true;
            submitButton.textContent = 'Submitting...';
            formMessage.textContent = '';

            const formData = {
                type: 'member-report', // Add a type to distinguish from other forms
                reporterId: document.getElementById('reporter-id').value,
                reportedUserId: document.getElementById('reported-user-id').value,
                location: document.getElementById('incident-location').value,
                description: document.getElementById('incident-description').value,
            };

            try {
                const response = await fetch(WEB_APP_URL, {
                    method: 'POST',
                    body: JSON.stringify(formData)
                });
                const result = await response.json();
                if (result.success) {
                    formMessage.innerHTML = '<strong>Thank you. Your report has been submitted.</strong><br>A member of our team will review it and may contact you via Discord for more information. Your confidentiality will be protected.';
                    formMessage.className = 'text-green-600';
                    form.reset();
                } else {
                    throw new Error(result.error || 'An unknown error occurred.');
                }
            } catch (error) {
                formMessage.textContent = `Submission Failed: ${error.message}`;
                formMessage.className = 'text-red-600';
            } finally {
                submitButton.disabled = false;
                submitButton.textContent = 'Submit Confidential Report';
            }
        });
    </script>

</body>
</html>
